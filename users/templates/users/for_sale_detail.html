{% extends "users/base.html" %}
{% block content %}
<div class="container py-5">
  <div class="row g-5 align-items-start">
    <!-- Image Gallery (Carousel) -->
    <div class="col-md-6">
      {% if property.picture1 or property.picture2 or property.picture3 %}
        <div id="propertyCarousel" class="carousel slide border rounded shadow-sm" data-bs-ride="carousel">
          <div class="carousel-inner">
            {% if property.picture1 %}
              <div class="carousel-item active">
                <img src="{{ property.picture1.url }}" class="d-block w-100 img-fluid" alt="{{ property.title }}">
              </div>
            {% endif %}
            {% if property.picture2 %}
              <div class="carousel-item {% if not property.picture1 %}active{% endif %}">
                <img src="{{ property.picture2.url }}" class="d-block w-100 img-fluid" alt="{{ property.title }}">
              </div>
            {% endif %}
            {% if property.picture3 %}
              <div class="carousel-item {% if not property.picture1 and not property.picture2 %}active{% endif %}">
                <img src="{{ property.picture3.url }}" class="d-block w-100 img-fluid" alt="{{ property.title }}">
              </div>
            {% endif %}
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#propertyCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon bg-dark rounded-circle p-2" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#propertyCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon bg-dark rounded-circle p-2" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      {% else %}
        <img src="https://via.placeholder.com/600x400?text=No+Image" class="img-fluid rounded shadow-sm" alt="No image available">
      {% endif %}
    </div>

    <!-- Property Info -->
    <div class="col-md-6">
      <h1 class="fw-bold mb-3">{{ property.title }}</h1>

      <div class="mb-3">
        <span class="badge bg-primary"><i class="bi bi-geo-alt-fill"></i> {{ property.location }}</span>
        <span class="badge bg-secondary"><i class="bi bi-house-door"></i> {{ property.property_type }}</span>
        <span class="badge bg-success"><i class="bi bi-cash-coin"></i> Ksh {{ property.price }}</span>
      </div>

      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
          <h5 class="card-title">Property Description</h5>
          <p class="card-text text-muted">{{ property.description }}</p>
        </div>
      </div>

      <!-- Call to Action -->
      <a href="#contactForm" class="btn btn-lg btn-outline-success mt-2">
        <i class="bi bi-envelope-paper-heart-fill me-2"></i>Enquire Now
      </a>
    </div>
  </div>
</div>
{% endblock %}
