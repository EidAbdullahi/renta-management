{% extends 'users/base.html' %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-primary mb-4 text-center">üèò Property List</h2>

  <!-- Add Property Button -->
  <div class="d-flex justify-content-between mb-4">
    <a href="{% url 'add_property' %}" class="btn btn-primary btn-lg">
      ‚ûï Add New Property
    </a>
</div>


  <!-- Property Table -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover text-center align-middle shadow-sm rounded">
      <thead class="table-primary">
        <tr>
          <th>Property Name</th>
          <th>Address</th>
          <th>Total Units</th>
          <th>Occupied</th>
          <th>Available</th>
        </tr>
      </thead>
      <tbody>
        {% for property in properties %}
        <tr>
          <td>{{ property.name }}</td>
          <td>{{ property.address }}</td>
          <td>{{ property.number_of_units }}</td>
          <td>{{ property.occupied_units }}</td>
          <td>
            <span class="{% if property.available_units == 0 %}text-danger{% else %}text-success{% endif %}">
              {{ property.available_units }}
            </span>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5">No properties added yet.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
